#!/usr/bin/env ruby

compile '/verenigingen/*.md' do
  filter :kramdown
  layout '/vereniging.*'
  layout '/default.*'
  write ext: 'html'
end

compile '/events/*.md' do
  filter :kramdown
  layout '/event.*'
  layout '/default.*'
  write ext: 'html'
end

compile '/konventen/*.md' do
  filter :kramdown
  layout '/konvent.*'
  layout '/default.*'
  write ext: 'html'
end

compile '/homepage.md' do
  filter :kramdown
  layout '/homepage.*'
  layout '/default.*'
  write '/index.html'
end

compile '/faq/*' do
  filter :kramdown
end

compile '/faq.erb' do
  filter :erb
  layout '/default.*'
  write '/faq/index.html'
end

compile '/verenigingen.md' do
  filter :kramdown
  layout '/verenigingen.*'
  layout '/default.*'
  write ext: 'html'
end

compile '/quiz.md' do
  filter :kramdown
  layout '/quiz.*'
  layout '/default.*'
  write ext: 'html'
end

compile '/*.md' do
  filter :kramdown
  layout '/default.*'
  write ext: 'html'
end

compile '/stylesheets/*.{sass,scss}' do
  syntax = @item.identifier.ext.to_sym
  filter :sass, syntax: syntax, style: :compact
  write ext: 'css'
end

compile '/*.erb' do
  filter :erb
  write item.identifier.without_ext
end

layout '/**/*', :erb

# Catch-all
compile '/**/*' do
  write item.identifier.to_s
end

